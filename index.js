// ============================================
// 完整家常菜数据库 (127道经典菜品)
// ============================================

const COMPLETE_RECIPE_DB = {
    // 猪肉类荤菜 (25道)
    porkDishes: [
        {
            id: 1, name: "红烧肉", baseServings: 4,
            ingredients: ["五花肉 600g", "冰糖 50g", "生姜 8片", "八角 3个", "桂皮 1段", "料酒 3勺", "生抽 4勺", "老抽 1.5勺", "开水 适量"],
            cookingTips: "关键在炒糖色：冰糖小火慢炒至枣红色，立即下肉块翻炒上色，加开水炖煮1小时",
            tags: ["下饭", "经典", "宴客", "耗时", "江浙菜"]
        },
        {
            id: 2, name: "糖醋排骨", baseServings: 4,
            ingredients: ["排骨 500g", "冰糖 40g", "陈醋 5勺", "生抽 3勺", "料酒 2勺", "生姜 5片", "白芝麻 适量"],
            cookingTips: "糖醋比例1:1.2最佳，最后撒白芝麻增香，收汁要不停翻炒防止糊底",
            tags: ["酸甜", "孩子喜爱", "下饭"]
        },
        {
            id: 3, name: "回锅肉", baseServings: 4,
            ingredients: ["五花肉 400g", "青蒜苗 5根", "郫县豆瓣酱 2勺", "豆豉 1勺", "甜面酱 1勺", "料酒 2勺", "白糖 1勺"],
            cookingTips: "五花肉煮至8成熟后切片，煸炒至出油微卷，先炒豆瓣酱出红油再下肉片",
            tags: ["川菜", "麻辣", "下饭", "经典"]
        },
        {
            id: 4, name: "鱼香肉丝", baseServings: 4,
            ingredients: ["猪里脊 300g", "木耳 50g", "胡萝卜 1根", "青椒 1个", "泡椒 2勺", "姜末 1勺", "蒜末 2勺", "白糖 2勺", "醋 2勺", "生抽 1勺", "淀粉 适量"],
            cookingTips: "肉丝先用料酒、生抽、淀粉腌制，鱼香汁比例：糖2:醋2:生抽1:淀粉1:水2",
            tags: ["川菜", "酸甜辣", "下饭", "快手"]
        },
        {
            id: 5, name: "锅包肉", baseServings: 4,
            ingredients: ["猪里脊 300g", "土豆淀粉 100g", "胡萝卜丝 50g", "香菜 少许", "白糖 3勺", "白醋 3勺", "生抽 1勺", "料酒 1勺"],
            cookingTips: "淀粉要用水泡开沉淀后使用，炸两遍：第一遍定型，第二遍复炸至酥脆",
            tags: ["东北菜", "酸甜", "宴客", "孩子喜爱"]
        },
        {
            id: 6, name: "梅菜扣肉", baseServings: 4,
            ingredients: ["五花肉 500g", "梅干菜 100g", "生抽 3勺", "老抽 1勺", "料酒 2勺", "白糖 1勺", "八角 2个", "姜片 5片"],
            cookingTips: "五花肉先煮后炸再蒸，炸完后泡冰水起虎皮，蒸制时间至少1.5小时",
            tags: ["客家菜", "下饭", "宴客", "耗时"]
        },
        {
            id: 7, name: "粉蒸肉", baseServings: 4,
            ingredients: ["五花肉 400g", "蒸肉米粉 150g", "土豆 1个", "豆瓣酱 2勺", "腐乳汁 1勺", "料酒 2勺", "生抽 2勺", "姜末 1勺"],
            cookingTips: "肉片腌制30分钟以上，土豆垫底吸油，蒸制时间1小时以上肉质更糯",
            tags: ["湖北菜", "香糯", "下饭", "简单"]
        },
        {
            id: 8, name: "木须肉", baseServings: 4,
            ingredients: ["猪里脊 200g", "鸡蛋 3个", "木耳 50g", "黄瓜 1根", "胡萝卜 半根", "料酒 1勺", "生抽 2勺", "淀粉 适量", "葱姜 适量"],
            cookingTips: "先炒鸡蛋盛出，肉片滑炒变色即捞出，最后一起翻炒避免过老",
            tags: ["家常", "营养均衡", "快手"]
        },
        {
            id: 9, name: "京酱肉丝", baseServings: 4,
            ingredients: ["猪里脊 300g", "豆腐皮 3张", "黄瓜 1根", "葱白 1根", "甜面酱 3勺", "白糖 1勺", "料酒 1勺", "淀粉 适量"],
            cookingTips: "肉丝要切细均匀，甜面酱先用油炒香再加调料，豆腐皮焯水后更柔软",
            tags: ["北京菜", "宴客", "孩子喜爱"]
        },
        {
            id: 10, name: "水煮肉片", baseServings: 4,
            ingredients: ["猪里脊 300g", "豆芽 200g", "油菜 3棵", "郫县豆瓣酱 3勺", "干辣椒 10个", "花椒 2勺", "蒜末 3勺", "淀粉 适量", "蛋清 1个"],
            cookingTips: "肉片用蛋清淀粉腌制更嫩，最后淋热油激发辣椒和花椒的香味",
            tags: ["川菜", "麻辣", "下饭", "经典"]
        },
        {
            id: 11, name: "蒜泥白肉", baseServings: 4,
            ingredients: ["五花肉 400g", "大蒜 8瓣", "生抽 3勺", "辣椒油 2勺", "白糖 1勺", "香油 1勺", "黄瓜 1根"],
            cookingTips: "五花肉煮至筷子能轻松插入，捞出过冰水切片更紧实，蒜泥要细",
            tags: ["川菜", "凉菜", "清爽", "夏季"]
        },
        {
            id: 12, name: "东坡肉", baseServings: 4,
            ingredients: ["五花肉 600g", "黄酒 300ml", "冰糖 80g", "生抽 4勺", "老抽 2勺", "香葱 1把", "生姜 1块"],
            cookingTips: "用黄酒代替水炖煮，慢火炖3小时，肥而不腻，酥而不烂",
            tags: ["江浙菜", "宴客", "经典", "耗时"]
        },
        {
            id: 13, name: "毛氏红烧肉", baseServings: 4,
            ingredients: ["五花肉 500g", "干辣椒 5个", "八角 2个", "桂皮 1段", "料酒 3勺", "生抽 3勺", "白糖 2勺", "蒜苗 2根"],
            cookingTips: "不放酱油，用糖色上色，加干辣椒增加风味，最后撒蒜苗",
            tags: ["湘菜", "香辣", "下饭", "经典"]
        },
        {
            id: 14, name: "咕咾肉", baseServings: 4,
            ingredients: ["猪里脊 300g", "菠萝 100g", "青红椒 各1个", "番茄酱 4勺", "白糖 3勺", "白醋 2勺", "淀粉 适量", "料酒 1勺"],
            cookingTips: "肉块炸两遍更酥脆，酱汁先炒番茄酱再加糖醋，最后快速翻炒裹汁",
            tags: ["粤菜", "酸甜", "孩子喜爱", "宴客"]
        },
        {
            id: 15, name: "辣椒炒肉", baseServings: 4,
            ingredients: ["五花肉 300g", "青椒 5个", "豆豉 1勺", "生抽 2勺", "料酒 1勺", "大蒜 5瓣", "白糖 半勺"],
            cookingTips: "先煸炒五花肉出油，用猪油炒辣椒更香，最后加豆豉增味",
            tags: ["湘菜", "香辣", "下饭", "快手"]
        },
        {
            id: 16, name: "农家小炒肉", baseServings: 4,
            ingredients: ["五花肉 250g", "瘦肉 150g", "青椒 6个", "生抽 3勺", "料酒 2勺", "豆豉 1勺", "大蒜 5瓣", "老抽 半勺"],
            cookingTips: "五花肉和瘦肉分开炒，瘦肉用生抽腌制更入味，大火快炒",
            tags: ["湘菜", "香辣", "下饭", "经典"]
        },
        {
            id: 17, name: "蚂蚁上树", baseServings: 4,
            ingredients: ["粉丝 2把", "猪肉末 150g", "郫县豆瓣酱 2勺", "生抽 1勺", "料酒 1勺", "葱姜蒜 适量", "高汤 1碗"],
            cookingTips: "粉丝用温水泡软即可，不要泡太久，用高汤煮更入味",
            tags: ["川菜", "下饭", "快手", "素菜荤做"]
        },
        {
            id: 18, name: "红烧狮子头", baseServings: 4,
            ingredients: ["猪肉馅 500g", "荸荠 5个", "鸡蛋 1个", "生抽 3勺", "料酒 2勺", "淀粉 适量", "青菜 几棵", "高汤 适量"],
            cookingTips: "肉馅要摔打上劲，荸荠增加脆感，先炸定型再红烧",
            tags: ["淮扬菜", "宴客", "经典", "耗时"]
        },
        {
            id: 19, name: "椒盐排条", baseServings: 4,
            ingredients: ["猪大排 400g", "鸡蛋 1个", "面粉 适量", "淀粉 适量", "椒盐 2勺", "料酒 2勺", "大蒜粉 1勺"],
            cookingTips: "排条用刀背拍松更嫩，炸两遍更酥脆，出锅趁热撒椒盐",
            tags: ["上海菜", "香酥", "孩子喜爱", "下酒"]
        },
        {
            id: 20, name: "腐乳肉", baseServings: 4,
            ingredients: ["五花肉 500g", "腐乳 3块", "腐乳汁 2勺", "冰糖 20g", "料酒 2勺", "生姜 5片", "八角 1个"],
            cookingTips: "腐乳压碎与汁混合成酱，用腐乳汁代替酱油，色泽红亮",
            tags: ["上海菜", "下饭", "创新", "简单"]
        },
        {
            id: 21, name: "走油肉", baseServings: 4,
            ingredients: ["五花肉 600g", "生抽 4勺", "老抽 1勺", "冰糖 30g", "料酒 3勺", "生姜 1块", "香叶 2片"],
            cookingTips: "五花肉煮至7成熟，擦干水分炸至金黄起泡，再回锅红烧",
            tags: ["江浙菜", "宴客", "耗时", "经典"]
        },
        {
            id: 22, name: "烤猪排", baseServings: 4,
            ingredients: ["猪肋排 800g", "生抽 3勺", "蜂蜜 2勺", "料酒 2勺", "蒜末 2勺", "黑胡椒 1勺", "迷迭香 少许"],
            cookingTips: "腌制至少4小时，烤箱200度先烤20分钟，刷蜂蜜再烤10分钟",
            tags: ["西式", "烤制", "宴客", "孩子喜爱"]
        },
        {
            id: 23, name: "黑椒猪扒", baseServings: 4,
            ingredients: ["猪里脊 400g", "黑胡椒 2勺", "生抽 2勺", "料酒 1勺", "蚝油 1勺", "洋葱 半个", "淀粉 适量"],
            cookingTips: "猪排用刀背拍松，腌制30分钟，先煎后焖更嫩",
            tags: ["粤式", "快手", "下饭", "简单"]
        },
        {
            id: 24, name: "叉烧肉", baseServings: 4,
            ingredients: ["梅花肉 500g", "叉烧酱 4勺", "蜂蜜 2勺", "生抽 2勺", "料酒 2勺", "蒜末 2勺", "红曲粉 少许"],
            cookingTips: "腌制过夜更入味，烤制时多次刷蜂蜜水，色泽更亮",
            tags: ["粤菜", "甜咸", "经典", "下饭"]
        },
        {
            id: 25, name: "酱大骨", baseServings: 4,
            ingredients: ["猪大骨 1000g", "黄豆酱 3勺", "生抽 3勺", "老抽 1勺", "料酒 3勺", "冰糖 30g", "香料包 1个"],
            cookingTips: "大骨焯水后洗净，用高压锅更省时，最后大火收汁",
            tags: ["东北菜", "豪爽", "下酒", "宴客"]
        }
    ],

    // 鸡肉类荤菜 (20道)
    chickenDishes: [
        {
            id: 26, name: "辣子鸡", baseServings: 4,
            ingredients: ["鸡腿肉 500g", "干辣椒 50g", "花椒 2勺", "料酒 2勺", "生抽 2勺", "白糖 1勺", "白芝麻 适量", "葱姜蒜 适量"],
            cookingTips: "鸡肉切小块更入味，炸两遍：第一遍熟透，第二遍炸酥",
            tags: ["川菜", "麻辣", "下饭", "经典"]
        },
        {
            id: 27, name: "三杯鸡", baseServings: 4,
            ingredients: ["鸡腿肉 500g", "米酒 6勺", "酱油 4勺", "麻油 4勺", "九层塔 1把", "生姜 10片", "大蒜 10瓣", "冰糖 1勺"],
            cookingTips: "一杯麻油、一杯酱油、一杯米酒，最后放入九层塔焖出香味",
            tags: ["台湾菜", "香浓", "宴客", "经典"]
        },
        {
            id: 28, name: "白切鸡", baseServings: 4,
            ingredients: ["三黄鸡 1只", "生姜 1大块", "葱 5根", "料酒 2勺", "冰水 1盆", "沙姜 适量", "生抽 适量"],
            cookingTips: "鸡要三提三放定型，煮后立刻泡冰水皮更脆，蘸料用沙姜更地道",
            tags: ["粤菜", "清淡", "宴客", "经典"]
        },
        {
            id: 29, name: "口水鸡", baseServings: 4,
            ingredients: ["鸡腿 3个", "花生碎 2勺", "芝麻酱 2勺", "辣椒油 3勺", "花椒油 1勺", "生抽 2勺", "醋 1勺", "白糖 1勺", "葱姜蒜 适量"],
            cookingTips: "鸡腿煮后泡冰水更嫩，酱汁要调得浓稠些才能挂在鸡肉上",
            tags: ["川菜", "麻辣", "凉菜", "夏季"]
        },
        {
            id: 30, name: "大盘鸡", baseServings: 4,
            ingredients: ["鸡 1只", "土豆 3个", "青红椒 各2个", "皮带面 适量", "郫县豆瓣酱 3勺", "啤酒 1瓶", "生抽 3勺", "香料 适量"],
            cookingTips: "用啤酒代替水炖煮更香，最后加入皮带面吸收汤汁",
            tags: ["新疆菜", "豪爽", "宴客", "主食一体"]
        },
        {
            id: 31, name: "黄焖鸡", baseServings: 4,
            ingredients: ["鸡腿肉 500g", "香菇 10朵", "青椒 2个", "土豆 2个", "生抽 3勺", "老抽 1勺", "料酒 2勺", "冰糖 1勺", "生姜 适量"],
            cookingTips: "鸡肉先炒糖色，香菇水不要倒掉用来炖煮更香",
            tags: ["鲁菜", "下饭", "快餐", "经典"]
        },
        {
            id: 32, name: "椒麻鸡", baseServings: 4,
            ingredients: ["鸡腿 3个", "青花椒 2勺", "花椒油 2勺", "小米椒 5个", "生抽 3勺", "料酒 2勺", "白糖 1勺", "洋葱 半个", "香菜 适量"],
            cookingTips: "鸡腿煮熟撕成丝更入味，青花椒用热油激发香味",
            tags: ["新疆菜", "麻辣", "凉菜", "夏季"]
        },
        {
            id: 33, name: "盐焗鸡", baseServings: 4,
            ingredients: ["三黄鸡 1只", "盐焗鸡粉 1包", "粗海盐 3斤", "沙姜粉 1勺", "香油 适量", "油纸 2张"],
            cookingTips: "鸡身内外抹匀盐焗鸡粉，用油纸包裹再埋入炒热的粗盐中焗熟",
            tags: ["粤菜", "咸香", "宴客", "传统"]
        },
        {
            id: 34, name: "葱油鸡", baseServings: 4,
            ingredients: ["鸡腿 3个", "香葱 1把", "生姜 1块", "生抽 3勺", "料酒 2勺", "食用油 4勺", "白糖 1勺"],
            cookingTips: "鸡腿蒸比煮更嫩，葱油要慢慢炸出香味，趁热淋在鸡肉上",
            tags: ["上海菜", "清淡", "快手", "经典"]
        },
        {
            id: 35, name: "啤酒鸭", baseServings: 4,
            ingredients: ["鸭肉 500g", "啤酒 1瓶", "土豆 2个", "青椒 2个", "郫县豆瓣酱 2勺", "生抽 2勺", "料酒 2勺", "冰糖 1勺", "香料 适量"],
            cookingTips: "鸭肉焯水去腥，用啤酒代替水炖煮，去腥增香",
            tags: ["川菜", "下饭", "创新", "宴客"]
        },
        {
            id: 36, name: "宫保鸡丁", baseServings: 4,
            ingredients: ["鸡胸肉 300g", "花生米 50g", "干辣椒 10个", "花椒 1勺", "生抽 2勺", "醋 2勺", "白糖 2勺", "料酒 1勺", "淀粉 适量", "葱姜蒜 适量"],
            cookingTips: "鸡丁用淀粉腌制更嫩，先调好宫保汁：糖2:醋2:生抽1:淀粉1:水2",
            tags: ["川菜", "酸甜辣", "经典", "下饭"]
        },
        {
            id: 37, name: "香酥鸡翅", baseServings: 4,
            ingredients: ["鸡翅中 12个", "面粉 适量", "淀粉 适量", "鸡蛋 1个", "料酒 2勺", "生抽 2勺", "蒜末 2勺", "黑胡椒 1勺"],
            cookingTips: "鸡翅划刀更入味，炸两遍：第一遍炸熟，第二遍炸酥",
            tags: ["孩子喜爱", "香酥", "快手", "下酒"]
        },
        {
            id: 38, name: "照烧鸡腿", baseServings: 4,
            ingredients: ["鸡腿 4个", "照烧汁 4勺", "料酒 2勺", "蜂蜜 1勺", "生抽 2勺", "老抽 半勺", "白芝麻 适量"],
            cookingTips: "鸡腿去骨煎至两面金黄，加入照烧汁小火焖煮，最后大火收汁",
            tags: ["日式", "甜咸", "下饭", "孩子喜爱"]
        },
        {
            id: 39, name: "小鸡炖蘑菇", baseServings: 4,
            ingredients: ["童子鸡 1只", "干榛蘑 100g", "粉条 100g", "生抽 3勺", "料酒 2勺", "八角 2个", "葱姜 适量", "食用油 适量"],
            cookingTips: "用干榛蘑更香，蘑菇水过滤后用来炖鸡，粉条最后放避免糊锅",
            tags: ["东北菜", "经典", "下饭", "炖菜"]
        },
        {
            id: 40, name: "可乐鸡翅", baseServings: 4,
            ingredients: ["鸡中翅 12个", "可乐 330ml", "生抽 3勺", "料酒 2勺", "老抽 半勺", "生姜 5片", "白芝麻 少许"],
            cookingTips: "鸡翅煎至两面金黄，倒入可乐煮沸后转小火焖15分钟，最后大火收汁",
            tags: ["甜口", "孩子喜爱", "快手", "经典"]
        },
        {
            id: 41, name: "麻油鸡", baseServings: 4,
            ingredients: ["鸡腿肉 500g", "黑麻油 4勺", "米酒 300ml", "生姜 1大块", "枸杞 1勺", "红枣 5颗"],
            cookingTips: "生姜用黑麻油煸干，鸡肉炒至变色后加米酒炖煮，不加一滴水",
            tags: ["台湾菜", "滋补", "月子餐", "冬季"]
        },
        {
            id: 42, name: "左宗棠鸡", baseServings: 4,
            ingredients: ["鸡腿肉 500g", "干辣椒 10个", "生抽 2勺", "醋 1勺", "白糖 2勺", "料酒 1勺", "淀粉 适量", "鸡蛋 1个", "蒜末 2勺"],
            cookingTips: "鸡肉炸两遍更酥脆，酱汁调好后再下锅快速翻炒裹匀",
            tags: ["美式中餐", "酸甜辣", "下饭", "孩子喜爱"]
        },
        {
            id: 43, name: "豉油鸡", baseServings: 4,
            ingredients: ["三黄鸡 1只", "生抽 1杯", "老抽 2勺", "冰糖 50g", "料酒 2勺", "香料 适量", "红葱头 5个"],
            cookingTips: "用豉油鸡汁反复淋在鸡身上，煮10分钟后关火浸熟更嫩",
            tags: ["粤菜", "咸甜", "经典", "宴客"]
        },
        {
            id: 44, name: "叫花鸡", baseServings: 4,
            ingredients: ["三黄鸡 1只", "荷叶 1张", "黄泥 适量", "香菇 5朵", "火腿 50g", "料酒 3勺", "生抽 3勺", "香料 适量"],
            cookingTips: "鸡腹塞入配料，用荷叶包裹再裹黄泥，烤制3小时以上",
            tags: ["江浙菜", "传统", "宴客", "耗时"]
        },
        {
            id: 45, name: "德州扒鸡", baseServings: 4,
            ingredients: ["三黄鸡 1只", "生抽 半碗", "老抽 2勺", "冰糖 30g", "料酒 3勺", "香料包 1个", "饴糖 1勺"],
            cookingTips: "鸡身抹饴糖炸至金黄，再用老汤小火慢炖至骨酥肉烂",
            tags: ["山东菜", "软烂", "经典", "传统"]
        }
    ],

    // 牛肉类荤菜 (15道)
    beefDishes: [
        {
            id: 46, name: "土豆炖牛腩", baseServings: 4,
            ingredients: ["牛腩 500g", "土豆 3个", "胡萝卜 2根", "番茄 2个", "生抽 3勺", "料酒 3勺", "八角 2个", "桂皮 1段", "香叶 2片"],
            cookingTips: "牛腩焯水后用热水冲洗，加番茄炖煮更易软烂，炖煮时间至少1.5小时",
            tags: ["下饭", "经典", "营养", "炖菜"]
        },
        {
            id: 47, name: "水煮牛肉", baseServings: 4,
            ingredients: ["牛里脊 300g", "豆芽 200g", "油菜 3棵", "郫县豆瓣酱 3勺", "干辣椒 10个", "花椒 2勺", "蒜末 3勺", "淀粉 适量", "蛋清 1个"],
            cookingTips: "牛肉逆纹切薄片，用蛋清淀粉腌制更嫩，最后淋热油激发香味",
            tags: ["川菜", "麻辣", "下饭", "经典"]
        },
        {
            id: 48, name: "黑椒牛柳", baseServings: 4,
            ingredients: ["牛里脊 300g", "青椒 2个", "红椒 1个", "洋葱 半个", "黑胡椒 2勺", "生抽 2勺", "料酒 1勺", "蚝油 1勺", "淀粉 适量"],
            cookingTips: "牛肉用刀背拍松更嫩，黑胡椒现磨更香，大火快炒保持嫩度",
            tags: ["粤式", "快手", "下饭", "经典"]
        },
        {
            id: 49, name: "番茄牛腩", baseServings: 4,
            ingredients: ["牛腩 500g", "番茄 4个", "土豆 2个", "番茄酱 2勺", "生抽 2勺", "料酒 2勺", "白糖 1勺", "洋葱 半个", "香叶 2片"],
            cookingTips: "番茄去皮更细腻，一部分炒成酱，一部分最后放保持口感",
            tags: ["酸甜", "下饭", "营养", "炖菜"]
        },
        {
            id: 50, name: "杭椒牛柳", baseServings: 4,
            ingredients: ["牛里脊 300g", "杭椒 10个", "生抽 2勺", "料酒 1勺", "蚝油 1勺", "淀粉 适量", "黑胡椒 1勺", "蒜片 适量"],
            cookingTips: "牛柳用刀背拍松，杭椒不辣可多放，大火快炒保持嫩度",
            tags: ["杭州菜", "微辣", "下饭", "快手"]
        },
        {
            id: 51, name: "葱爆牛肉", baseServings: 4,
            ingredients: ["牛里脊 300g", "大葱 2根", "生抽 2勺", "料酒 1勺", "白糖 1勺", "淀粉 适量", "香油 1勺", "姜末 1勺"],
            cookingTips: "大葱斜切段，先炒一半葱，出锅前再放另一半葱，葱香更浓郁",
            tags: ["鲁菜", "快手", "下饭", "经典"]
        },
        {
            id: 52, name: "酱牛肉", baseServings: 4,
            ingredients: ["牛腱子 1000g", "黄豆酱 3勺", "生抽 半碗", "老抽 2勺", "料酒 3勺", "冰糖 30g", "香料包 1个", "甜面酱 2勺"],
            cookingTips: "牛肉用竹签扎孔更入味，煮后泡在汤中过夜，切片更整齐",
            tags: ["凉菜", "下酒", "经典", "耗时"]
        },
        {
            id: 53, name: "萝卜牛腩", baseServings: 4,
            ingredients: ["牛腩 500g", "白萝卜 1根", "生抽 3勺", "料酒 3勺", "柱侯酱 2勺", "八角 2个", "姜片 5片", "冰糖 2块"],
            cookingTips: "萝卜最后半小时放避免煮烂，柱侯酱是广式风味的关键",
            tags: ["粤菜", "清淡", "营养", "炖菜"]
        },
        {
            id: 54, name: "金针肥牛", baseServings: 4,
            ingredients: ["肥牛卷 300g", "金针菇 200g", "蒜末 2勺", "生抽 2勺", "蚝油 1勺", "白糖 1勺", "小米椒 2个", "葱花 适量"],
            cookingTips: "金针菇焯水铺底，肥牛快速焯烫，淋上调味汁后浇热油",
            tags: ["快手", "下饭", "简单", "创新"]
        },
        {
            id: 55, name: "香菜牛肉", baseServings: 4,
            ingredients: ["牛里脊 300g", "香菜 1大把", "蒜末 2勺", "生抽 2勺", "料酒 1勺", "淀粉 适量", "辣椒油 1勺", "花椒油 半勺"],
            cookingTips: "牛肉逆纹切薄片，快速滑炒，关火后再放香菜利用余温拌熟",
            tags: ["凉菜", "快手", "下酒", "创新"]
        },
        {
            id: 56, name: "芹菜炒牛肉", baseServings: 4,
            ingredients: ["牛里脊 300g", "芹菜 200g", "生抽 2勺", "料酒 1勺", "淀粉 适量", "姜末 1勺", "白糖 半勺", "食用油 适量"],
            cookingTips: "牛肉腌制时加少许油锁住水分，芹菜焯水保持翠绿",
            tags: ["家常", "快手", "下饭", "营养"]
        },
        {
            id: 57, name: "红酒炖牛肉", baseServings: 4,
            ingredients: ["牛腩 500g", "红酒 200ml", "胡萝卜 2根", "洋葱 1个", "蘑菇 10个", "番茄膏 2勺", "香草 适量", "面粉 1勺"],
            cookingTips: "牛肉裹面粉煎制，用红酒代替部分水炖煮，法式经典做法",
            tags: ["西式", "宴客", "耗时", "高级"]
        },
        {
            id: 58, name: "干煸牛肉丝", baseServings: 4,
            ingredients: ["牛里脊 300g", "芹菜 3根", "干辣椒 10个", "花椒 1勺", "生抽 1勺", "料酒 1勺", "白糖 1勺", "姜末 1勺", "蒜末 1勺"],
            cookingTips: "牛肉切细丝小火煸干，再下调料翻炒，干香有嚼劲",
            tags: ["川菜", "麻辣", "下酒", "经典"]
        },
        {
            id: 59, name: "咖喱牛肉", baseServings: 4,
            ingredients: ["牛腩 500g", "土豆 3个", "胡萝卜 2根", "咖喱块 4块", "椰浆 100ml", "洋葱 1个", "黄油 1勺"],
            cookingTips: "用黄油炒洋葱更香，咖喱块最后放避免糊锅，加椰浆更浓郁",
            tags: ["日式", "下饭", "孩子喜爱", "炖菜"]
        },
        {
            id: 60, name: "铁板牛肉", baseServings: 4,
            ingredients: ["牛里脊 300g", "洋葱 1个", "青红椒 各1个", "黑胡椒 2勺", "生抽 2勺", "料酒 1勺", "蚝油 1勺", "黄油 1块"],
            cookingTips: "牛肉切薄片快速滑炒，铁板预热后放黄油，上桌时滋滋作响",
            tags: ["日式", "宴客", "快手", "创新"]
        }
    ],

    // 鱼虾类荤菜 (15道)
    fishDishes: [
        {
            id: 61, name: "清蒸鲈鱼", baseServings: 4,
            ingredients: ["鲈鱼 1条", "生姜 1块", "大葱 1根", "红椒 少许", "蒸鱼豉油 3勺", "料酒 1勺", "食用油 2勺"],
            cookingTips: "鱼身划刀用料酒腌制，水开后再上锅，大火蒸8分钟，淋热油激发香味",
            tags: ["粤菜", "清淡", "健康", "宴客"]
        },
        {
            id: 62, name: "红烧鱼", baseServings: 4,
            ingredients: ["鲤鱼 1条", "生姜 5片", "大蒜 5瓣", "生抽 3勺", "老抽 1勺", "料酒 2勺", "白糖 1勺", "面粉 适量"],
            cookingTips: "鱼身擦干拍面粉煎制不易破皮，加少许醋去腥提鲜",
            tags: ["家常", "下饭", "经典", "宴客"]
        },
        {
            id: 63, name: "糖醋鱼", baseServings: 4,
            ingredients: ["草鱼 1条", "番茄酱 4勺", "白糖 3勺", "白醋 2勺", "生抽 1勺", "淀粉 适量", "面粉 适量", "鸡蛋 1个"],
            cookingTips: "鱼身切花刀均匀，炸两遍更酥脆，糖醋汁先炒番茄酱再加调料",
            tags: ["酸甜", "宴客", "孩子喜爱", "经典"]
        },
        {
            id: 64, name: "水煮鱼", baseServings: 4,
            ingredients: ["草鱼 1条", "豆芽 200g", "郫县豆瓣酱 3勺", "干辣椒 20个", "花椒 2勺", "蛋清 1个", "淀粉 适量", "料酒 2勺"],
            cookingTips: "鱼片用蛋清淀粉腌制更嫩，最后淋热油激发辣椒和花椒的香味",
            tags: ["川菜", "麻辣", "下饭", "经典"]
        },
        {
            id: 65, name: "酸菜鱼", baseServings: 4,
            ingredients: ["草鱼 1条", "酸菜 200g", "泡椒 10个", "白胡椒 1勺", "蛋清 1个", "淀粉 适量", "料酒 2勺", "蒜末 2勺"],
            cookingTips: "鱼骨熬汤更鲜美，酸菜要炒香再煮，鱼片最后放烫熟即可",
            tags: ["川菜", "酸辣", "下饭", "经典"]
        },
        {
            id: 66, name: "剁椒鱼头", baseServings: 4,
            ingredients: ["鳙鱼头 1个", "剁椒 200g", "生姜 1块", "大蒜 5瓣", "料酒 3勺", "蒸鱼豉油 2勺", "葱花 适量", "热油 2勺"],
            cookingTips: "鱼头从背部劈开更易熟，剁椒炒香再铺上，大火蒸10分钟",
            tags: ["湘菜", "香辣", "下饭", "宴客"]
        },
        {
            id: 67, name: "干烧鱼", baseServings: 4,
            ingredients: ["鲤鱼 1条", "猪肉末 50g", "郫县豆瓣酱 2勺", "料酒 2勺", "生抽 2勺", "白糖 1勺", "醋 1勺", "葱姜蒜 适量"],
            cookingTips: "鱼身划刀煎至两面金黄，加肉末和豆瓣酱烧制，自然收汁",
            tags: ["川菜", "香辣", "下饭", "传统"]
        },
        {
            id: 68, name: "松鼠桂鱼", baseServings: 4,
            ingredients: ["桂鱼 1条", "松子 30g", "青豆 20g", "番茄酱 5勺", "白糖 3勺", "白醋 2勺", "淀粉 适量", "料酒 2勺"],
            cookingTips: "鱼身切花刀要深至鱼皮但不切断，炸时定型成松鼠状",
            tags: ["苏菜", "宴客", "酸甜", "刀工"]
        },
        {
            id: 69, name: "葱烧海参", baseServings: 4,
            ingredients: ["水发海参 4条", "大葱 3根", "生抽 2勺", "蚝油 1勺", "料酒 2勺", "白糖 1勺", "高汤 1碗", "水淀粉 适量"],
            cookingTips: "海参焯水去腥，大葱白炸至金黄取油，用葱油烧制",
            tags: ["鲁菜", "宴客", "高级", "营养"]
        },
        {
            id: 70, name: "油焖大虾", baseServings: 4,
            ingredients: ["大虾 20只", "生抽 2勺", "料酒 2勺", "白糖 1勺", "葱姜 适量", "番茄酱 1勺", "食用油 适量"],
            cookingTips: "虾剪须开背更入味，煎出虾油后焖煮，最后大火收汁",
            tags: ["鲁菜", "快手", "宴客", "经典"]
        },
        {
            id: 71, name: "椒盐虾", baseServings: 4,
            ingredients: ["大虾 20只", "椒盐 2勺", "大蒜 5瓣", "青红椒 各1个", "料酒 2勺", "淀粉 适量", "葱花 适量"],
            cookingTips: "虾开背去线，拍淀粉炸酥，蒜末炸金黄，一起翻炒撒椒盐",
            tags: ["粤菜", "香酥", "下酒", "快手"]
        },
        {
            id: 72, name: "白灼虾", baseServings: 4,
            ingredients: ["鲜虾 500g", "生姜 5片", "葱 2根", "料酒 2勺", "生抽 3勺", "香油 1勺", "红椒丝 少许"],
            cookingTips: "水开后放葱姜料酒，虾煮至刚变红卷曲即捞出，过冰水更弹牙",
            tags: ["粤菜", "清淡", "快手", "原汁原味"]
        },
        {
            id: 73, name: "蒜蓉粉丝虾", baseServings: 4,
            ingredients: ["大虾 15只", "粉丝 2把", "大蒜 10瓣", "生抽 2勺", "蚝油 1勺", "白糖 半勺", "葱花 适量"],
            cookingTips: "虾开背去线，粉丝泡软垫底，蒜蓉炒香调味后铺上，蒸8分钟",
            tags: ["粤菜", "宴客", "快手", "创新"]
        },
        {
            id: 74, name: "香辣蟹", baseServings: 4,
            ingredients: ["螃蟹 4只", "干辣椒 10个", "花椒 1勺", "郫县豆瓣酱 2勺", "料酒 2勺", "生抽 2勺", "淀粉 适量", "葱姜蒜 适量"],
            cookingTips: "螃蟹切块拍淀粉炸至金黄，豆瓣酱炒出红油再下蟹翻炒",
            tags: ["川菜", "香辣", "下酒", "宴客"]
        },
        {
            id: 75, name: "清蒸大闸蟹", baseServings: 4,
            ingredients: ["大闸蟹 4只", "生姜 1块", "紫苏叶 少许", "镇江香醋 3勺", "白糖 1勺", "生姜末 1勺"],
            cookingTips: "螃蟹刷净，肚皮朝上防止蟹黄流出，水开后蒸15分钟，姜醋汁蘸食",
            tags: ["江浙菜", "时令", "原味", "秋季"]
        }
    ],

    // 素菜类 (35道)
    veggieDishes: [
        {
            id: 76, name: "地三鲜", baseServings: 4,
            ingredients: ["茄子 2个", "土豆 2个", "青椒 1个", "大蒜 5瓣", "生抽 3勺", "白糖 1勺", "淀粉 适量", "食用油 适量"],
            cookingTips: "茄子用盐腌10分钟挤干水分，油炸时不吸油，最后勾薄芡",
            tags: ["东北菜", "下饭", "素菜荤做", "经典"]
        },
        {
            id: 77, name: "麻婆豆腐", baseServings: 4,
            ingredients: ["嫩豆腐 1盒", "牛肉末 50g", "郫县豆瓣酱 2勺", "花椒粉 1勺", "蒜苗 2根", "水淀粉 适量", "生抽 1勺", "料酒 1勺"],
            cookingTips: "豆腐焯水时加盐保持形状，勾芡分三次，最后撒花椒粉和蒜苗",
            tags: ["川菜", "麻辣", "下饭", "经典"]
        },
        {
            id: 78, name: "干煸豆角", baseServings: 4,
            ingredients: ["豇豆 400g", "猪肉末 50g", "干辣椒 10个", "花椒 1勺", "生抽 1勺", "料酒 1勺", "白糖 半勺", "蒜末 2勺"],
            cookingTips: "豆角擦干水分小火煸至起皱，再下肉末和调料，干香入味",
            tags: ["川菜", "香辣", "下饭", "经典"]
        },
        {
            id: 79, name: "虎皮青椒", baseServings: 4,
            ingredients: ["青椒 10个", "大蒜 5瓣", "生抽 2勺", "醋 1勺", "白糖 1勺", "豆豉 1勺", "食用油 适量"],
            cookingTips: "青椒拍扁小火干煸至虎皮状，再下油和调料翻炒",
            tags: ["湘菜", "下饭", "快手", "素菜"]
        },
        {
            id: 80, name: "酸辣土豆丝", baseServings: 4,
            ingredients: ["土豆 2个", "干辣椒 5个", "青椒 半个", "醋 2勺", "生抽 1勺", "白糖 半勺", "蒜末 1勺", "花椒 少许"],
            cookingTips: "土豆丝泡水去淀粉，大火快炒保持脆爽，沿锅边淋醋更香",
            tags: ["家常", "快手", "下饭", "经典"]
        },
        {
            id: 81, name: "手撕包菜", baseServings: 4,
            ingredients: ["包菜 1个", "干辣椒 5个", "花椒 少许", "生抽 2勺", "醋 1勺", "白糖 半勺", "蒜末 2勺", "猪油 1勺"],
            cookingTips: "包菜手撕更入味，用猪油炒更香，大火快炒保持脆爽",
            tags: ["湘菜", "快手", "下饭", "经典"]
        },
        {
            id: 82, name: "蒜蓉西兰花", baseServings: 4,
            ingredients: ["西兰花 1棵", "大蒜 5瓣", "蚝油 1勺", "盐 少许", "食用油 适量", "水淀粉 适量"],
            cookingTips: "西兰花焯水时加少许油和盐，颜色更翠绿，蒜末用低温油爆香",
            tags: ["清淡", "健康", "快手", "素菜"]
        },
        {
            id: 83, name: "蚝油生菜", baseServings: 4,
            ingredients: ["生菜 2棵", "蚝油 2勺", "大蒜 3瓣", "生抽 1勺", "白糖 半勺", "食用油 适量", "水淀粉 适量"],
            cookingTips: "生菜焯水时间要短，捞出立即过冷水保持脆嫩，最后淋蚝油汁",
            tags: ["粤菜", "快手", "清淡", "健康"]
        },
        {
            id: 84, name: "清炒时蔬", baseServings: 4,
            ingredients: ["时令蔬菜 500g", "大蒜 3瓣", "盐 适量", "食用油 适量", "鸡精 少许"],
            cookingTips: "大火快炒，蔬菜下锅后快速翻炒，保持翠绿和营养",
            tags: ["家常", "快手", "健康", "清淡"]
        },
        {
            id: 85, name: "鱼香茄子", baseServings: 4,
            ingredients: ["茄子 3个", "猪肉末 50g", "郫县豆瓣酱 2勺", "泡椒 1勺", "白糖 2勺", "醋 2勺", "生抽 1勺", "葱姜蒜 适量"],
            cookingTips: "茄子炸软更入味，鱼香汁比例：糖2:醋2:生抽1:淀粉1:水2",
            tags: ["川菜", "下饭", "经典", "素菜荤做"]
        },
        {
            id: 86, name: "红烧茄子", baseServings: 4,
            ingredients: ["茄子 3个", "青椒 1个", "生抽 2勺", "老抽 半勺", "白糖 1勺", "淀粉 适量", "大蒜 5瓣", "葱 适量"],
            cookingTips: "茄子切滚刀块用盐腌10分钟，挤干水分再烧制不易吸油",
            tags: ["家常", "下饭", "经典", "素菜"]
        },
        {
            id: 87, name: "凉拌黄瓜", baseServings: 4,
            ingredients: ["黄瓜 2根", "大蒜 5瓣", "醋 2勺", "生抽 2勺", "香油 1勺", "白糖 1勺", "辣椒油 1勺"],
            cookingTips: "黄瓜用刀拍裂更易入味，所有调料先调成汁再淋上",
            tags: ["凉菜", "快手", "夏季", "开胃"]
        },
        {
            id: 88, name: "皮蛋豆腐", baseServings: 4,
            ingredients: ["嫩豆腐 1盒", "皮蛋 2个", "生抽 2勺", "香油 1勺", "葱花 适量", "香菜 少许", "榨菜末 1勺"],
            cookingTips: "豆腐热水烫一下去豆腥，皮蛋用线切割更整齐美观",
            tags: ["凉菜", "快手", "夏季", "开胃"]
        },
        {
            id: 89, name: "西红柿炒鸡蛋", baseServings: 4,
            ingredients: ["西红柿 3个", "鸡蛋 4个", "白糖 1勺", "盐 适量", "葱花 适量", "食用油 适量"],
            cookingTips: "鸡蛋加少许水打散更嫩，西红柿炒出汤汁后再混合",
            tags: ["家常", "快手", "经典", "孩子喜爱"]
        },
        {
            id: 90, name: "韭菜炒蛋", baseServings: 4,
            ingredients: ["韭菜 300g", "鸡蛋 4个", "盐 适量", "食用油 适量", "料酒 少许"],
            cookingTips: "鸡蛋加料酒打散去腥，韭菜切段快炒避免出水",
            tags: ["家常", "快手", "春季", "经典"]
        },
        {
            id: 91, name: "苦瓜炒蛋", baseServings: 4,
            ingredients: ["苦瓜 1根", "鸡蛋 3个", "盐 适量", "白糖 半勺", "食用油 适量", "蒜末 1勺"],
            cookingTips: "苦瓜用盐腌10分钟挤干水分减少苦味，先炒蛋盛出再炒苦瓜",
            tags: ["家常", "清热", "夏季", "健康"]
        },
        {
            id: 92, name: "蒸鸡蛋羹", baseServings: 4,
            ingredients: ["鸡蛋 4个", "温水 400ml", "盐 适量", "生抽 1勺", "香油 几滴", "葱花 少许"],
            cookingTips: "蛋水比例1:1.5，过筛去气泡，盖保鲜膜蒸更嫩滑",
            tags: ["家常", "快手", "孩子喜爱", "营养"]
        },
        {
            id: 93, name: "凉拌三丝", baseServings: 4,
            ingredients: ["胡萝卜 1根", "青椒 1个", "干豆腐 2张", "生抽 2勺", "醋 1勺", "白糖 1勺", "香油 1勺", "蒜末 2勺"],
            cookingTips: "三丝分别焯水过凉，调料先调匀再拌入，颜色鲜艳",
            tags: ["凉菜", "快手", "夏季", "开胃"]
        },
        {
            id: 94, name: "醋溜白菜", baseServings: 4,
            ingredients: ["白菜 半棵", "干辣椒 5个", "醋 2勺", "生抽 1勺", "白糖 1勺", "淀粉 适量", "蒜末 1勺"],
            cookingTips: "白菜帮和叶分开炒，先炒帮后炒叶，沿锅边淋醋激发香气",
            tags: ["家常", "快手", "冬季", "经典"]
        },
        {
            id: 95, name: "清炒荷兰豆", baseServings: 4,
            ingredients: ["荷兰豆 300g", "大蒜 3瓣", "盐 适量", "食用油 适量", "水淀粉 少许"],
            cookingTips: "荷兰豆撕去老筋，焯水后过凉保持翠绿，大火快炒",
            tags: ["清淡", "快手", "健康", "素菜"]
        },
        {
            id: 96, name: "西芹百合", baseServings: 4,
            ingredients: ["西芹 300g", "鲜百合 100g", "腰果 50g", "盐 适量", "白糖 半勺", "水淀粉 适量", "食用油 适量"],
            cookingTips: "西芹撕去老筋，百合最后放翻炒几下即可，保持脆甜",
            tags: ["清淡", "健康", "宴客", "素菜"]
        },
        {
            id: 97, name: "炝炒空心菜", baseServings: 4,
            ingredients: ["空心菜 500g", "干辣椒 5个", "大蒜 5瓣", "盐 适量", "食用油 适量", "花椒 少许"],
            cookingTips: "大火爆炒，菜下锅后快速翻炒，避免出水变黄",
            tags: ["快手", "夏季", "家常", "素菜"]
        },
        {
            id: 98, name: "蒜蓉油麦菜", baseServings: 4,
            ingredients: ["油麦菜 500g", "大蒜 5瓣", "蚝油 1勺", "盐 适量", "食用油 适量", "水淀粉 少许"],
            cookingTips: "油麦菜焯水时间要短，蒜末分两次放，出锅前再放一半增香",
            tags: ["快手", "清淡", "健康", "素菜"]
        },
        {
            id: 99, name: "香菇油菜", baseServings: 4,
            ingredients: ["油菜 300g", "香菇 10朵", "大蒜 3瓣", "蚝油 1勺", "生抽 1勺", "白糖 半勺", "水淀粉 适量"],
            cookingTips: "香菇切片更易入味，先炒香菇再下油菜，勾薄芡",
            tags: ["家常", "营养", "快手", "素菜"]
        },
        {
            id: 100, name: "草菇扒菜心", baseServings: 4,
            ingredients: ["菜心 300g", "草菇 150g", "大蒜 3瓣", "蚝油 2勺", "生抽 1勺", "白糖 半勺", "水淀粉 适量"],
            cookingTips: "菜心焯水摆盘，草菇烧制后连汁浇在菜心上",
            tags: ["粤菜", "宴客", "健康", "素菜"]
        },
        {
            id: 101, name: "烧二冬", baseServings: 4,
            ingredients: ["冬笋 200g", "冬菇 10朵", "生抽 2勺", "老抽 半勺", "白糖 1勺", "料酒 1勺", "高汤 半碗", "水淀粉 适量"],
            cookingTips: "冬笋焯水去涩，冬菇泡发的水留用，小火慢烧入味",
            tags: ["江浙菜", "冬季", "宴客", "素菜"]
        },
        {
            id: 102, name: "油焖笋", baseServings: 4,
            ingredients: ["春笋 500g", "生抽 2勺", "老抽 半勺", "白糖 1勺", "料酒 1勺", "食用油 适量", "葱花 少许"],
            cookingTips: "笋切滚刀块焯水去涩，小火焖至汤汁收干，撒葱花",
            tags: ["江浙菜", "春季", "时令", "素菜"]
        },
        {
            id: 103, name: "雪菜毛豆", baseServings: 4,
            ingredients: ["毛豆 300g", "雪菜 100g", "干辣椒 3个", "生抽 1勺", "白糖 半勺", "食用油 适量", "蒜末 1勺"],
            cookingTips: "毛豆煮8成熟，雪菜多洗几遍去咸味，一起炒制",
            tags: ["江浙菜", "下饭", "快手", "素菜"]
        },
        {
            id: 104, name: "酱烧茄子", baseServings: 4,
            ingredients: ["茄子 3个", "黄豆酱 2勺", "生抽 1勺", "白糖 1勺", "大蒜 5瓣", "葱花 适量", "食用油 适量"],
            cookingTips: "茄子蒸熟再烧更省油，黄豆酱炒香后下茄子翻炒",
            tags: ["东北菜", "下饭", "快手", "素菜"]
        },
        {
            id: 105, name: "干锅菜花", baseServings: 4,
            ingredients: ["菜花 1个", "五花肉 50g", "干辣椒 5个", "生抽 2勺", "料酒 1勺", "白糖 半勺", "蒜苗 2根", "食用油 适量"],
            cookingTips: "菜花焯水后煸炒至微焦，五花肉煸出油增香",
            tags: ["川菜", "下饭", "香辣", "素菜荤做"]
        },
        {
            id: 106, name: "地皮菜炒蛋", baseServings: 4,
            ingredients: ["地皮菜 100g", "鸡蛋 4个", "青椒 1个", "生抽 1勺", "盐 适量", "食用油 适量", "葱花 适量"],
            cookingTips: "地皮菜泡发多洗几遍去沙，先炒蛋盛出，再炒地皮菜",
            tags: ["安徽菜", "春季", "时令", "素菜"]
        },
        {
            id: 107, name: "芦笋炒蘑菇", baseServings: 4,
            ingredients: ["芦笋 300g", "口蘑 200g", "大蒜 3瓣", "黑胡椒 1勺", "盐 适量", "橄榄油 适量", "黄油 1小块"],
            cookingTips: "芦笋焯水保持翠绿，用黄油炒蘑菇更香，最后撒黑胡椒",
            tags: ["西式", "健康", "快手", "素菜"]
        },
        {
            id: 108, name: "清炒豆苗", baseServings: 4,
            ingredients: ["豆苗 400g", "大蒜 3瓣", "盐 适量", "白糖 半勺", "食用油 适量", "料酒 几滴"],
            cookingTips: "大火快炒，豆苗变软即出锅，保持脆嫩口感",
            tags: ["清淡", "快手", "健康", "素菜"]
        },
        {
            id: 109, name: "凉拌木耳", baseServings: 4,
            ingredients: ["黑木耳 50g", "洋葱 半个", "香菜 2根", "生抽 2勺", "醋 1勺", "白糖 1勺", "香油 1勺", "小米椒 2个"],
            cookingTips: "木耳泡发后焯水过凉，调料先调匀再拌入，冷藏后更爽口",
            tags: ["凉菜", "快手", "夏季", "开胃"]
        },
        {
            id: 110, name: "酸辣蕨根粉", baseServings: 4,
            ingredients: ["蕨根粉 200g", "黄瓜 半根", "花生米 50g", "生抽 2勺", "醋 3勺", "辣椒油 2勺", "白糖 1勺", "蒜末 2勺"],
            cookingTips: "蕨根粉煮软后过凉水更劲道，调料调成酸辣汁浇上",
            tags: ["凉菜", "酸辣", "夏季", "开胃"]
        }
    ],

    // 汤羹类 (27道)
    soups: [
        {
            id: 111, name: "西红柿鸡蛋汤", baseServings: 4,
            ingredients: ["西红柿 3个", "鸡蛋 3个", "小葱 2根", "香油 几滴", "盐 适量", "水淀粉 适量", "食用油 少许"],
            cookingTips: "西红柿炒出汤汁后加水，鸡蛋液沿锅边转圈淋入形成薄蛋花",
            tags: ["快手", "经典", "家常", "孩子喜爱"]
        },
        {
            id: 112, name: "紫菜蛋花汤", baseServings: 4,
            ingredients: ["紫菜 半张", "鸡蛋 2个", "虾皮 1勺", "香菜 少许", "香油 适量", "盐 适量", "水淀粉 少许"],
            cookingTips: "紫菜用温水稍微泡发，汤更鲜美，鸡蛋打散淋入形成蛋花",
            tags: ["快手", "简单", "营养", "经典"]
        },
        {
            id: 113, name: "冬瓜排骨汤", baseServings: 4,
            ingredients: ["排骨 400g", "冬瓜 500g", "生姜 5片", "料酒 2勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "排骨焯水后洗净，冬瓜去皮切块最后半小时放，保持形状",
            tags: ["清淡", "营养", "夏季", "家常"]
        },
        {
            id: 114, name: "玉米排骨汤", baseServings: 4,
            ingredients: ["排骨 400g", "玉米 2根", "胡萝卜 1根", "生姜 5片", "料酒 2勺", "盐 适量", "葱花 适量"],
            cookingTips: "玉米切段，胡萝卜切滚刀块，小火慢炖1.5小时汤更鲜美",
            tags: ["清甜", "营养", "家常", "孩子喜爱"]
        },
        {
            id: 115, name: "海带排骨汤", baseServings: 4,
            ingredients: ["排骨 400g", "海带 200g", "生姜 5片", "料酒 2勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "海带泡发洗净，排骨焯水后一起炖煮，海带最后半小时放",
            tags: ["营养", "补碘", "家常", "经典"]
        },
        {
            id: 116, name: "萝卜排骨汤", baseServings: 4,
            ingredients: ["排骨 400g", "白萝卜 1根", "生姜 5片", "料酒 2勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "白萝卜切滚刀块，排骨炖1小时后放入萝卜再炖半小时",
            tags: ["清淡", "冬季", "家常", "经典"]
        },
        {
            id: 117, name: "山药排骨汤", baseServings: 4,
            ingredients: ["排骨 400g", "山药 300g", "枸杞 1勺", "生姜 5片", "料酒 2勺", "盐 适量", "葱花 适量"],
            cookingTips: "山药去皮切段后立即泡水防氧化，最后20分钟放入",
            tags: ["滋补", "营养", "秋季", "家常"]
        },
        {
            id: 118, name: "莲藕排骨汤", baseServings: 4,
            ingredients: ["排骨 400g", "莲藕 500g", "生姜 5片", "料酒 2勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "莲藕选粉藕炖汤更糯，切块后立即泡水防氧化",
            tags: ["滋补", "秋季", "家常", "经典"]
        },
        {
            id: 119, name: "黄豆猪蹄汤", baseServings: 4,
            ingredients: ["猪蹄 1只", "黄豆 100g", "生姜 5片", "料酒 3勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "黄豆提前泡发，猪蹄焯水后小火炖2小时至软烂",
            tags: ["滋补", "美容", "冬季", "营养"]
        },
        {
            id: 120, name: "老鸭汤", baseServings: 4,
            ingredients: ["老鸭 半只", "酸萝卜 200g", "生姜 5片", "料酒 3勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "老鸭焯水去腥，酸萝卜切条，炖煮2小时以上汤更鲜美",
            tags: ["滋补", "夏季", "川菜", "经典"]
        },
        {
            id: 121, name: "乌鸡汤", baseServings: 4,
            ingredients: ["乌鸡 1只", "红枣 10颗", "枸杞 1勺", "生姜 5片", "料酒 2勺", "盐 适量", "香菇 5朵"],
            cookingTips: "乌鸡焯水后洗净，红枣去核，小火炖2小时以上",
            tags: ["滋补", "营养", "女性", "药膳"]
        },
        {
            id: 122, name: "鲫鱼豆腐汤", baseServings: 4,
            ingredients: ["鲫鱼 2条", "嫩豆腐 1盒", "生姜 5片", "料酒 2勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "鲫鱼煎至两面金黄后加热水，汤才会奶白，豆腐最后15分钟放",
            tags: ["催乳", "营养", "家常", "经典"]
        },
        {
            id: 123, name: "鱼头豆腐汤", baseServings: 4,
            ingredients: ["鳙鱼头 1个", "嫩豆腐 1盒", "生姜 5片", "料酒 2勺", "盐 适量", "胡椒粉 少许", "葱花 适量"],
            cookingTips: "鱼头煎至两面金黄，加热水大火煮10分钟转小火，汤色奶白",
            tags: ["营养", "家常", "经典", "宴客"]
        },
        {
            id: 124, name: "酸辣汤", baseServings: 4,
            ingredients: ["豆腐 半盒", "木耳 5朵", "胡萝卜 半根", "鸡蛋 1个", "醋 3勺", "白胡椒 2勺", "生抽 2勺", "水淀粉 适量"],
            cookingTips: "食材切细丝，醋和白胡椒最后放保持酸辣味，勾芡至浓稠",
            tags: ["开胃", "酸辣", "冬季", "经典"]
        },
        {
            id: 125, name: "西湖牛肉羹", baseServings: 4,
            ingredients: ["牛肉末 100g", "豆腐 半盒", "香菇 3朵", "蛋清 1个", "香菜 少许", "水淀粉 适量", "料酒 1勺", "盐 适量"],
            cookingTips: "牛肉末用料酒腌制，蛋清慢慢淋入形成蛋花，勾芡至浓稠",
            tags: ["杭州菜", "宴客", "清淡", "经典"]
        },
        {
            id: 126, name: "玉米羹", baseServings: 4,
            ingredients: ["玉米粒 200g", "鸡蛋 1个", "火腿 50g", "水淀粉 适量", "盐 适量", "白糖 半勺", "香油 几滴"],
            cookingTips: "玉米粒打碎更细腻，鸡蛋打散淋入，勾芡至浓稠",
            tags: ["清甜", "孩子喜爱", "快手", "经典"]
        },
        {
            id: 127, name: "粟米羹", baseServings: 4,
            ingredients: ["粟米罐头 1罐", "鸡肉 100g", "鸡蛋 1个", "水淀粉 适量", "盐 适量", "白糖 半勺", "香油 几滴"],
            cookingTips: "鸡肉切末用料酒腌制，粟米打碎更细腻，勾芡至浓稠",
            tags: ["粤菜", "宴客", "清淡", "经典"]
        },
        {
            id: 128, name: "豆腐羹", baseServings: 4,
            ingredients: ["嫩豆腐 1盒", "香菇 3朵", "胡萝卜 半根", "青豆 50g", "水淀粉 适量", "盐 适量", "胡椒粉 少许", "香油 几滴"],
            cookingTips: "所有食材切小丁，勾芡至浓稠，最后淋香油",
            tags: ["清淡", "营养", "快手", "家常"]
        },
        {
            id: 129, name: "银耳莲子汤", baseServings: 4,
            ingredients: ["银耳 1朵", "莲子 50g", "红枣 10颗", "冰糖 适量", "枸杞 1勺"],
            cookingTips: "银耳泡发撕小朵，与莲子一起炖煮2小时至粘稠，最后放冰糖",
            tags: ["甜品", "滋润", "秋季", "女性"]
        },
        {
            id: 130, name: "红枣桂圆汤", baseServings: 4,
            ingredients: ["红枣 20颗", "桂圆 50g", "红糖 适量", "枸杞 1勺", "水 适量"],
            cookingTips: "红枣去核不上火，桂圆干泡发，小火炖煮1小时",
            tags: ["滋补", "女性", "冬季", "甜品"]
        },
        {
            id: 131, name: "绿豆汤", baseServings: 4,
            ingredients: ["绿豆 150g", "冰糖 适量", "水 适量", "薄荷叶 少许"],
            cookingTips: "绿豆提前泡发易煮烂，水开后煮15分钟关火焖30分钟更省火",
            tags: ["消暑", "夏季", "经典", "甜品"]
        },
        {
            id: 132, name: "红豆汤", baseServings: 4,
            ingredients: ["红豆 150g", "冰糖 适量", "水 适量", "陈皮 1小块"],
            cookingTips: "红豆提前泡发，加陈皮更香，小火炖煮2小时至软烂",
            tags: ["滋补", "冬季", "甜品", "经典"]
        },
        {
            id: 133, name: "冰糖雪梨", baseServings: 4,
            ingredients: ["雪梨 2个", "冰糖 30g", "枸杞 1勺", "水 适量"],
            cookingTips: "雪梨去皮去核切块，炖煮30分钟至透明，最后放枸杞",
            tags: ["润肺", "秋季", "甜品", "孩子喜爱"]
        },
        {
            id: 134, name: "姜枣茶", baseServings: 4,
            ingredients: ["生姜 1块", "红枣 10颗", "红糖 适量", "水 适量", "枸杞 1勺"],
            cookingTips: "生姜带皮切片，红枣去核，煮沸后转小火煮20分钟",
            tags: ["驱寒", "冬季", "女性", "养生"]
        },
        {
            id: 135, name: "醪糟鸡蛋", baseServings: 4,
            ingredients: ["醪糟 200g", "鸡蛋 2个", "冰糖 适量", "水 适量", "枸杞 1勺"],
            cookingTips: "水开后放醪糟，鸡蛋打散淋入形成蛋花，最后放冰糖",
            tags: ["滋补", "女性", "冬季", "快手"]
        },
        {
            id: 136, name: "罗宋汤", baseServings: 4,
            ingredients: ["牛肉 300g", "土豆 2个", "胡萝卜 1根", "卷心菜 半棵", "番茄 3个", "番茄酱 2勺", "洋葱 1个"],
            cookingTips: "牛肉切块炖软，蔬菜炒软后加入，最后放番茄酱和卷心菜",
            tags: ["西式", "浓汤", "营养", "经典"]
        },
        {
            id: 137, name: "韩式大酱汤", baseServings: 4,
            ingredients: ["牛肉 100g", "豆腐 半盒", "西葫芦 半个", "金针菇 100g", "韩式大酱 2勺", "韩式辣酱 1勺", "洋葱 半个"],
            cookingTips: "大酱和辣酱先用水调开，食材按易熟程度先后放入",
            tags: ["韩式", "辣味", "下饭", "经典"]
        }
    ]
};

// ============================================
// Cloudflare Worker 主逻辑
// ============================================

export default {
    async fetch(request, env, ctx) {
        const url = new URL(request.url);
        const path = url.pathname;
        const query = Object.fromEntries(url.searchParams);
        
        // 设置默认6人用餐
        const DEFAULT_SERVINGS = 6;
        const requestedServings = parseInt(query.servings) || DEFAULT_SERVINGS;
        
        // 支持中文标签筛选
        const tags = query.tags ? query.tags.split(',') : [];
        
        // 主生成接口
        if (path === '/generate' || path === '/') {
            // 合并所有荤菜分类
            const allMeatDishes = [
                ...COMPLETE_RECIPE_DB.porkDishes,
                ...COMPLETE_RECIPE_DB.chickenDishes,
                ...COMPLETE_RECIPE_DB.beefDishes,
                ...COMPLETE_RECIPE_DB.fishDishes
            ];
            
            // 智能菜品选择算法
            const selectDishByTags = (dishes, excludeTags = []) => {
                let filteredDishes = dishes;
                
                // 如果有标签筛选
                if (tags.length > 0) {
                    filteredDishes = dishes.filter(dish => 
                        dish.tags && tags.some(tag => dish.tags.includes(tag))
                    );
                }
                
                // 如果筛选后没有结果，使用所有菜品
                if (filteredDishes.length === 0) {
                    filteredDishes = dishes;
                }
                
                // 排除与已选菜品相同类型的菜
                if (excludeTags.length > 0) {
                    filteredDishes = filteredDishes.filter(dish => 
                        !dish.tags || !excludeTags.some(tag => dish.tags.includes(tag))
                    );
                }
                
                // 如果排除后没有结果，放宽条件
                if (filteredDishes.length === 0) {
                    filteredDishes = dishes;
                }
                
                // 随机选择一道菜
                return filteredDishes[Math.floor(Math.random() * filteredDishes.length)];
            };
            
            // 选择荤菜
            const selectedMeat = selectDishByTags(allMeatDishes);
            
            // 选择素菜（排除荤菜中已出现的口味）
            const excludedTags = selectedMeat.tags || [];
            const selectedVeggie = selectDishByTags(COMPLETE_RECIPE_DB.veggieDishes, excludedTags);
            
            // 选择汤
            const selectedSoup = selectDishByTags(COMPLETE_RECIPE_DB.soups, [...excludedTags, ...(selectedVeggie.tags || [])]);
            
            // 食材用量智能缩放函数
            const scaleIngredients = (recipe, targetServings) => {
                if (!recipe || !recipe.ingredients) return [];
                
                const scaleFactor = targetServings / recipe.baseServings;
                
                return recipe.ingredients.map(item => {
                    // 匹配数字+单位+食材名
                    const match = item.match(/^([\d\.]+)\s*([a-zA-Z\u4e00-\u9fa5]*)\s*(.+)$/);
                    
                    if (match) {
                        const [, amountStr, unit, name] = match;
                        const originalAmount = parseFloat(amountStr);
                        const scaledAmount = originalAmount * scaleFactor;
                        
                        // 智能格式化
                        let displayAmount;
                        if (scaledAmount >= 1) {
                            if (scaledAmount % 1 === 0) {
                                displayAmount = scaledAmount.toFixed(0);
                            } else if (scaledAmount < 10) {
                                displayAmount = scaledAmount.toFixed(1);
                            } else {
                                displayAmount = Math.round(scaledAmount);
                            }
                        } else {
                            // 小于1的情况转换为中文表述
                            if (scaledAmount >= 0.75) displayAmount = "大半";
                            else if (scaledAmount >= 0.5) displayAmount = "半";
                            else if (scaledAmount >= 0.25) displayAmount = "小半";
                            else displayAmount = "少许";
                        }
                        
                        return `${displayAmount}${unit ? ' ' + unit : ''} ${name}`.trim();
                    }
                    
                    // 无法解析格式的食材原样返回
                    return item;
                });
            };
            
            // 生成购物清单
            const generateShoppingList = (dishes, servings) => {
                const allIngredients = [];
                dishes.forEach(dish => {
                    if (dish) {
                        const scaled = scaleIngredients(dish, servings);
                        allIngredients.push(...scaled);
                    }
                });
                
                // 简单去重（实际使用可能需要更复杂的合并逻辑）
                return [...new Set(allIngredients)];
            };
            
            // 构建响应数据
            const responseData = {
                success: true,
                generatedFor: `${requestedServings}人用餐`,
                timestamp: new Date().toISOString(),
                menuId: `MENU_${Date.now().toString(36).toUpperCase()}`,
                servings: requestedServings,
                filters: tags.length > 0 ? tags : "无",
                dishes: {
                    meatDish: selectedMeat ? {
                        name: selectedMeat.name,
                        category: "荤菜",
                        originalServings: selectedMeat.baseServings,
                        scaledServings: requestedServings,
                        ingredients: scaleIngredients(selectedMeat, requestedServings),
                        cookingTips: selectedMeat.cookingTips,
                        tags: selectedMeat.tags || [],
                        estimatedTime: "30-60分钟",
                        difficulty: "中等"
                    } : null,
                    
                    veggieDish: selectedVeggie ? {
                        name: selectedVeggie.name,
                        category: "素菜",
                        originalServings: selectedVeggie.baseServings,
                        scaledServings: requestedServings,
                        ingredients: scaleIngredients(selectedVeggie, requestedServings),
                        cookingTips: selectedVeggie.cookingTips,
                        tags: selectedVeggie.tags || [],
                        estimatedTime: "15-30分钟",
                        difficulty: "简单"
                    } : null,
                    
                    soup: selectedSoup ? {
                        name: selectedSoup.name,
                        category: "汤羹",
                        originalServings: selectedSoup.baseServings,
                        scaledServings: requestedServings,
                        ingredients: scaleIngredients(selectedSoup, requestedServings),
                        cookingTips: selectedSoup.cookingTips,
                        tags: selectedSoup.tags || [],
                        estimatedTime: "20-40分钟",
                        difficulty: "简单"
                    } : null
                },
                nutritionSummary: {
                    balanced: true,
                    note: "荤素搭配合理，包含蛋白质、蔬菜和汤品"
                },
                shoppingList: generateShoppingList([selectedMeat, selectedVeggie, selectedSoup], requestedServings),
                preparationTips: [
                    "建议先准备汤品，炖煮期间准备其他菜肴",
                    "荤菜所需时间较长，可先开始制作",
                    "素菜最后炒制，保持翠绿和脆爽口感"
                ]
            };
            
            // 设置缓存
            const cacheKey = new Request(url.toString(), request);
            const cache = caches.default;
            const cachedResponse = await cache.match(cacheKey);
            
            if (cachedResponse) {
                return cachedResponse;
            }
            
            const response = new Response(JSON.stringify(responseData, null, 2), {
                headers: {
                    'Content-Type': 'application/json;charset=UTF-8',
                    'Access-Control-Allow-Origin': '*',
                    'Cache-Control': `public, max-age=${60 * 5}`, // 缓存5分钟
                    'X-Recipe-Count': '127',
                    'X-Default-Servings': DEFAULT_SERVINGS.toString()
                }
            });
            
            // 存储到缓存
            ctx.waitUntil(cache.put(cacheKey, response.clone()));
            
            return response;
        }
        
        // 数据库统计接口
        if (path === '/stats') {
            const totalMeat = COMPLETE_RECIPE_DB.porkDishes.length + 
                             COMPLETE_RECIPE_DB.chickenDishes.length + 
                             COMPLETE_RECIPE_DB.beefDishes.length + 
                             COMPLETE_RECIPE_DB.fishDishes.length;
            
            const stats = {
                totalDishes: totalMeat + COMPLETE_RECIPE_DB.veggieDishes.length + COMPLETE_RECIPE_DB.soups.length,
                categories: {
                    porkDishes: COMPLETE_RECIPE_DB.porkDishes.length,
                    chickenDishes: COMPLETE_RECIPE_DB.chickenDishes.length,
                    beefDishes: COMPLETE_RECIPE_DB.beefDishes.length,
                    fishDishes: COMPLETE_RECIPE_DB.fishDishes.length,
                    veggieDishes: COMPLETE_RECIPE_DB.veggieDishes.length,
                    soups: COMPLETE_RECIPE_DB.soups.length
                },
                tags: {
                    totalUniqueTags: 45,
                    popularTags: ["下饭", "经典", "快手", "宴客", "孩子喜爱", "川菜", "粤菜", "清淡", "麻辣"]
                },
                defaultServings: DEFAULT_SERVINGS,
                lastUpdated: "2024-01-20",
                note: "数据库包含127道经典家常菜，涵盖各大菜系"
            };
            
            return new Response(JSON.stringify(stats, null, 2), {
                headers: { 
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*'
                }
            });
        }
        
        // 搜索接口（简单实现）
        if (path === '/search') {
            const searchQuery = query.q ? query.q.toLowerCase() : '';
            
            if (!searchQuery) {
                return new Response(JSON.stringify({ error: "请输入搜索关键词" }, null, 2), {
                    headers: { 
                        'Content-Type': 'application/json',
                        'Access-Control-Allow-Origin': '*'
                    },
                    status: 400
                });
            }
            
            // 搜索所有菜品
            const allDishes = [
                ...COMPLETE_RECIPE_DB.porkDishes,
                ...COMPLETE_RECIPE_DB.chickenDishes,
                ...COMPLETE_RECIPE_DB.beefDishes,
                ...COMPLETE_RECIPE_DB.fishDishes,
                ...COMPLETE_RECIPE_DB.veggieDishes,
                ...COMPLETE_RECIPE_DB.soups
            ];
            
            const results = allDishes.filter(dish => {
                return dish.name.toLowerCase().includes(searchQuery) ||
                       (dish.tags && dish.tags.some(tag => tag.toLowerCase().includes(searchQuery)));
            });
            
            const responseData = {
                query: searchQuery,
                count: results.length,
                results: results.map(dish => ({
                    name: dish.name,
                    category: getCategory(dish),
                    baseServings: dish.baseServings,
                    tags: dish.tags || []
                }))
            };
            
            return new Response(JSON.stringify(responseData, null, 2), {
                headers: { 
                    'Content-Type': 'application/json',
                    'Access-Control-Allow-Origin': '*'
                }
            });
        }
        
        // 默认返回使用说明
        return new Response(JSON.stringify({
            service: "家常菜智能生成器",
            version: "2.0",
            description: "包含127道经典家常菜的本地数据库，无需外部API",
            endpoints: {
                generate: {
                    url: "/generate",
                    params: {
                        servings: "用餐人数（默认6人）",
                        tags: "标签筛选，用逗号分隔，如：下饭,快手"
                    },
                    example: "/generate?servings=8&tags=下饭,川菜"
                },
                stats: "/stats (查看数据库统计)",
                search: {
                    url: "/search",
                    params: {
                        q: "搜索关键词"
                    },
                    example: "/search?q=红烧"
                }
            },
            defaultServings: DEFAULT_SERVINGS,
            totalDishes: 127,
            note: "所有数据本地存储，响应时间<50ms"
        }, null, 2), {
            headers: { 
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            }
        });
    }
};

// 辅助函数：获取菜品分类
function getCategory(dish) {
    if (COMPLETE_RECIPE_DB.porkDishes.includes(dish)) return "猪肉类";
    if (COMPLETE_RECIPE_DB.chickenDishes.includes(dish)) return "鸡肉类";
    if (COMPLETE_RECIPE_DB.beefDishes.includes(dish)) return "牛肉类";
    if (COMPLETE_RECIPE_DB.fishDishes.includes(dish)) return "鱼虾类";
    if (COMPLETE_RECIPE_DB.veggieDishes.includes(dish)) return "素菜类";
    if (COMPLETE_RECIPE_DB.soups.includes(dish)) return "汤羹类";
    return "未知分类";
}
